!function(){if("39a57c807f642ba0c2b04cce99ea9d77"!==_blueshiftid){var e,t=("https:"===document.location.protocol?"https:":"http:")+"//api.getblueshift.com/",n=t+"unity.gif",o=t+"cookiejar.json",i=("https:"===document.location.protocol?"https:":"http:")+"//ib.adnxs.com/getuid?",r=!1,a=!1,s=!1,c="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,u={},d={eventApiKey:void 0,userParams:{},slots:[],slotParams:{},tz:(new Date).getTimezoneOffset()};if("object"==typeof blueshift){var f=void 0===blueshift.slice?[]:blueshift.slice(0);for(blueshift={events:[],load:function(){C()},capture:function(e,t){m(e,t)},retarget:function(){q(["retarget"])},facebook:function(){q(["facebook"])},track:function(e,t){q(["track",e,t])},pageload:function(e){q(["pageload",e])},identify:function(e){q(["identify",e])},live:function(e){q(["live",e])}},p=0;p<f.length;p++)blueshift.events.push(f[p])}if(document.addEventListener)var l=function(e,t,n){e.addEventListener(t,n,!1)};else l=function(e,t,n){e.attachEvent("on"+t,n)};for(var p=0;p<blueshift.events.length;p++)q(blueshift.events[p]);"complete"===document.readyState?C():window.addEventListener?window.addEventListener("load",C,!1):window.attachEvent&&window.attachEvent("onload",C)}function h(e,t){t.tz=d.tz;var n={x:d.eventApiKey,slot:e,user:d.userParams,context:t};return"true"==function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("dev")&&(n.dev=!0),JSON.stringify(n)}function w(e){!function(){d.slots=[];for(var e=document.querySelectorAll("[data-bsft-slot]"),t=0;t<e.length;t++)d.slots.push({name:e[t].dataset.bsftSlot,el:e[t]})}(),d.slotParams=e||{},function(){for(var e=[],n=0;n<d.slots.length;n++)!function(n){e[n]=g(),e[n].open("POST",t+"live",!0),e[n].setRequestHeader("Content-Type","application/json"),e[n].onreadystatechange=function(){if(4===e[n].readyState&&200==e[n].status){try{var t=JSON.parse(e[n].responseText)}catch(e){console.log("error loading slot",e)}t&&t.show&&(o=d.slots[n].el,i=t.width,r=t.height,a=t.content,s=document.createElement("iframe"),o.innerHTML="",o.appendChild(s),s.src="''",s.style.width=i,s.style.height=r,s.style.border="none",s.contentWindow.document.open(),s.contentWindow.document.write(a),s.contentWindow.document.close(),o.style.width=i,o.style.height=r,o.style.display="block")}var o,i,r,a,s},e[n].send(h(d.slots[n].name,d.slotParams[d.slots[n].name]||{}))}(n)}()}function m(e,t){var n=document.getElementById(e);l(n,"change",function(){q({0:"icapture",1:t,2:document.getElementById(e).value})},!1)}function y(e){new Image(1,1).src=e}function b(e){try{if(void 0!=N("_bs_fb_pushed"))return;request=o+"?x="+window._blueshiftid+"&k="+e;var t=g();t.open("GET",request,!0),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&function(e){if(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e))return!0;window._fbq=window._fbq||[],window._fbq.push(["track","user_attributes",e]),x("_bs_fb_pushed","1",1)}(JSON.parse(t.responseText))},t.send(request)}catch(e){}}function g(){if(window.XMLHttpRequest)try{var e=new XMLHttpRequest}catch(t){e=new window.ActiveXObject("Microsoft.XMLHTTP")}return e}function x(e,t,n){var o=new Date;o.setDate(o.getDate()+n);var i=window.location.hostname,r=i.split(".");4==r.length&&r[0]>=0&&r[0]<=255&&r[1]>=0&&r[1]<=255&&r[2]>=0&&r[2]<=255&&r[3]>=0&&r[3]<=255||(i="."+i.replace(/^www./,""));var a=escape(t)+(null==n?"":";expires="+o.toUTCString())+";path=/;domain="+i;document.cookie=e+"="+a}function N(e){var t,n,o,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(n=i[t].substr(0,i[t].indexOf("=")),o=i[t].substr(i[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return unescape(o)}function k(e){var t,o,r=e[0],f=function(){var e="";try{e=window.top.document.referrer}catch(t){if(window.parent)try{e=window.parent.document.referrer}catch(t){e=""}}return""===e&&(e=document.referrer),e}(),p=Math.floor(1e6*Math.random()+1),h=Math.round(new Date/1e3),w=N("_bs");if("object"==typeof analytics&&"function"==typeof analytics.user&&(t=_blueshiftid,"YmU3MGIwNGVkMzUyZDAzYjA5NDc5NmJjNWZjZTdiMDU="!==(o=btoa(t))&&"MWM2ZGEyNGExOGM1MjQyNTNlZTExNmU0YzUzOTNjZWY="!==o)){var k=analytics.user().anonymousId();w!=k&&x("_bs",k,365),w=k}if(void 0==w&&x("_bs",w=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}(),365),"config"==r&&e[1])return(u=e[1]).trackClicks&&l(document,"click",function(e){e=e||window.event,element=e.target||e.srcElement,element.href&&q(["click",{p:function(e){for(var t=[];null!=e.parentNode;){for(var n=0,o=0,i=0;i<e.parentNode.childNodes.length;i++){var r=e.parentNode.childNodes[i];r.nodeName==e.nodeName&&(r===e&&(o=n),n++)}""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):n>1?t.unshift(e.nodeName.toLowerCase()+"["+o+"]"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t}(element).toString(),c:element.href,a:element.innerHTML}])}),!0;if("identify"==r&&(d.userParams=e[1]||{},d.userParams.cookie=w),"track"==r)r=e[1],e=e[2];else{if("capture"==r)return m(e[1],e[2]),!0;if("retarget"==r)return req=i+n+"?t="+h+"&e=appnexus&z="+p+"&x="+window._blueshiftid+"&k="+w+"&appnexus_id=$UID&u="+encodeURIComponent(encodeURIComponent(window.location.href))+"&r="+encodeURIComponent(encodeURIComponent(f)),y(req),!0;if("facebook"==r)return s=!0,!0;"icapture"==r?(r="capture",_=e[1],value=e[2],(e={})[_]=value):e=e[1]}req=n+"?t="+h+"&e="+r+"&r="+encodeURIComponent(f)+"&z="+p+"&x="+window._blueshiftid+"&k="+w+"&u="+encodeURIComponent(window.location.href);for(var _ in e)v=e[_],"object"==typeof v?req+="&"+_+"_json="+encodeURIComponent(JSON.stringify(v)):req+="&"+_+"="+encodeURIComponent(v);return c?u.usePOST?(void 0==e&&(e={}),e.t=h,e.e=r,e.r=f,e.z=p,e.x=window._blueshiftid,e.k=w,e.u=window.location.href,function(e,t){try{xhr=g(),xhr.open("POST",e,!0),xhr.setRequestHeader("Content-Type","application/json"),xhr.send(JSON.stringify(t))}catch(e){}}(n,e)):function(e){try{xhr=g(),xhr.open("GET",e,!0),xhr.send(e)}catch(e){}}(req):y(req),1==s&&"pageload"==r&&b(w),1==a&&"pageload"==r&&(req=i+n+"?t="+h+"&e=appnexus&z="+p+"&x="+window._blueshiftid+"&k="+w+"&appnexus_id=$UID&u="+encodeURIComponent(encodeURIComponent(window.location.href))+"&r="+encodeURIComponent(encodeURIComponent(f)),y(req)),1==s&&"pageload"==r&&b(w),!0}function _(e,t){setTimeout(function(){q(e)},t)}function q(t){if(void 0!=t[0])if(r)if("identify"!==t[0]&&"config"!==t[0])if(d.userParams.cookie||new Date-e>1e3)switch(t[0]){case"live":w(t[1]);break;default:k(t)}else _(t,20);else k(t);else _(t,20)}function C(){r=!0,e=new Date,d.eventApiKey=_blueshiftid}}();